{
  "version": 3,
  "sources": ["../../.pnpm/vuex-router-sync@6.0.0-rc.1_vue-router@4.4.5_vue@3.5.12_typescript@5.6.2___vuex@4.1.0_vue@3.5.12_typescript@5.6.2__/node_modules/vuex-router-sync/dist/vuex-router-sync.esm-browser.js"],
  "sourcesContent": ["/*!\n /**\n  * vuex-router-sync v6.0.0-rc.1\n  * (c) 2021 Evan You\n  * @license MIT\n  */\nfunction sync(store, router, options) {\r\n    const moduleName = (options || {}).moduleName || 'route';\r\n    store.registerModule(moduleName, {\r\n        namespaced: true,\r\n        state: cloneRoute(router.currentRoute.value),\r\n        mutations: {\r\n            ROUTE_CHANGED(_state, transition) {\r\n                store.state[moduleName] = cloneRoute(transition.to, transition.from);\r\n            }\r\n        }\r\n    });\r\n    let isTimeTraveling = false;\r\n    let currentPath;\r\n    // sync router on store change\r\n    const storeUnwatch = store.watch((state) => state[moduleName], (route) => {\r\n        const { fullPath } = route;\r\n        if (fullPath === currentPath) {\r\n            return;\r\n        }\r\n        if (currentPath != null) {\r\n            isTimeTraveling = true;\r\n            router.push(route);\r\n        }\r\n        currentPath = fullPath;\r\n    }, { flush: 'sync' });\r\n    // sync store on router navigation\r\n    const afterEachUnHook = router.afterEach((to, from) => {\r\n        if (isTimeTraveling) {\r\n            isTimeTraveling = false;\r\n            return;\r\n        }\r\n        currentPath = to.fullPath;\r\n        store.commit(moduleName + '/ROUTE_CHANGED', { to, from });\r\n    });\r\n    return function unsync() {\r\n        // remove router hook\r\n        afterEachUnHook();\r\n        // remove store watch\r\n        storeUnwatch();\r\n        // unregister Module with store\r\n        store.unregisterModule(moduleName);\r\n    };\r\n}\r\nfunction cloneRoute(to, from) {\r\n    const clone = {\r\n        name: to.name,\r\n        path: to.path,\r\n        hash: to.hash,\r\n        query: to.query,\r\n        params: to.params,\r\n        fullPath: to.fullPath,\r\n        meta: to.meta\r\n    };\r\n    if (from) {\r\n        clone.from = cloneRoute(from);\r\n    }\r\n    return Object.freeze(clone);\r\n}\n\nexport { sync };\n"],
  "mappings": ";;;AAMA,SAAS,KAAK,OAAO,QAAQ,SAAS;AAClC,QAAM,cAAc,WAAW,CAAC,GAAG,cAAc;AACjD,QAAM,eAAe,YAAY;AAAA,IAC7B,YAAY;AAAA,IACZ,OAAO,WAAW,OAAO,aAAa,KAAK;AAAA,IAC3C,WAAW;AAAA,MACP,cAAc,QAAQ,YAAY;AAC9B,cAAM,MAAM,UAAU,IAAI,WAAW,WAAW,IAAI,WAAW,IAAI;AAAA,MACvE;AAAA,IACJ;AAAA,EACJ,CAAC;AACD,MAAI,kBAAkB;AACtB,MAAI;AAEJ,QAAM,eAAe,MAAM,MAAM,CAAC,UAAU,MAAM,UAAU,GAAG,CAAC,UAAU;AACtE,UAAM,EAAE,SAAS,IAAI;AACrB,QAAI,aAAa,aAAa;AAC1B;AAAA,IACJ;AACA,QAAI,eAAe,MAAM;AACrB,wBAAkB;AAClB,aAAO,KAAK,KAAK;AAAA,IACrB;AACA,kBAAc;AAAA,EAClB,GAAG,EAAE,OAAO,OAAO,CAAC;AAEpB,QAAM,kBAAkB,OAAO,UAAU,CAAC,IAAI,SAAS;AACnD,QAAI,iBAAiB;AACjB,wBAAkB;AAClB;AAAA,IACJ;AACA,kBAAc,GAAG;AACjB,UAAM,OAAO,aAAa,kBAAkB,EAAE,IAAI,KAAK,CAAC;AAAA,EAC5D,CAAC;AACD,SAAO,SAAS,SAAS;AAErB,oBAAgB;AAEhB,iBAAa;AAEb,UAAM,iBAAiB,UAAU;AAAA,EACrC;AACJ;AACA,SAAS,WAAW,IAAI,MAAM;AAC1B,QAAM,QAAQ;AAAA,IACV,MAAM,GAAG;AAAA,IACT,MAAM,GAAG;AAAA,IACT,MAAM,GAAG;AAAA,IACT,OAAO,GAAG;AAAA,IACV,QAAQ,GAAG;AAAA,IACX,UAAU,GAAG;AAAA,IACb,MAAM,GAAG;AAAA,EACb;AACA,MAAI,MAAM;AACN,UAAM,OAAO,WAAW,IAAI;AAAA,EAChC;AACA,SAAO,OAAO,OAAO,KAAK;AAC9B;",
  "names": []
}
