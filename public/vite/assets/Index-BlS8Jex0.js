import{r as z,c as S,n as r,o as n,p as e,g as E,t as l,q as Z,i as ne,f as j,H as ae,m as V,F as T,j as B,_ as ee,a as L,e as te,l as le,T as re,a6 as ie,Y as de,L as ce,z as ue}from"./_plugin-vue_export-helper-DG4P_01H.js";import{f as ve,c as me}from"./useBranding-78t2cBKJ.js";import{a as se}from"./Validators-BM89Tp7H.js";import{f as oe,v as ge,aV as W}from"./DashboardIcon-DqDTELFV.js";import"./utils.esm-CMazHLgs.js";import"./index-DN3rM4CW.js";import"./_commonjsHelpers-BosuxZz1.js";import"./js.cookie-Cz0CWeBA.js";import"./index-Cw6s38ZS.js";import"./index-CQCyHBIl.js";import"./Icon-Br_HG2DA.js";const xe={class:"flex items-start justify-between mb-3"},be={class:"flex items-center gap-2"},fe={class:"px-2 py-0.5 text-xs font-medium text-green-700 bg-green-100 dark:bg-green-900/30 dark:text-green-400 rounded"},he={class:"relative"},pe={key:0,class:"absolute right-0 mt-1 w-48 bg-white dark:bg-n-solid-4 rounded-lg shadow-lg border border-n-weak z-50"},ke={class:"font-semibold text-n-slate-12 mb-2 line-clamp-2"},we={class:"text-sm text-n-slate-11 mb-4 line-clamp-2"},ye={key:0,class:"flex flex-wrap gap-1 mb-3"},Ce={class:"flex items-center justify-between pt-3 border-t border-n-weak"},_e={class:"flex items-center gap-2"},$e=["src","alt"],Me={key:1,class:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-medium"},Ee={class:"text-xs text-n-slate-11 truncate max-w-[120px]"},De={class:"flex items-center gap-2 text-n-slate-11"},je={key:0,class:"flex items-center gap-1"},Ae={class:"text-xs font-medium bg-red-500 text-white px-1.5 py-0.5 rounded-full"},ze={class:"text-xs"},X={__name:"KanbanCard",props:{conversation:{type:Object,required:!0}},emits:["dragstart","view-details"],setup(s,{emit:A}){const m=s,y=A,C=se(),{accountScopedRoute:h}=oe(),f=z(!1),a=S(()=>m.conversation.last_non_activity_message&&m.conversation.last_non_activity_message.content||"Sem mensagens"),p=b=>{if(!b)return"?";const i=b.split(" ");return i.length>=2?(i[0][0]+i[1][0]).toUpperCase():b.substring(0,2).toUpperCase()},_=b=>{if(!b)return"";const g=Math.floor(Date.now()/1e3)-b;return g<60?"agora":g<3600?`${Math.floor(g/60)}m`:g<86400?`${Math.floor(g/3600)}h`:`${Math.floor(g/86400)}d`},D=()=>{f.value=!f.value},v=()=>{f.value=!1},o=()=>{v(),y("view-details",m.conversation)},$=()=>{v(),C.push(h("inbox_view_conversation",{conversation_id:m.conversation.id}))},M=()=>{v(),console.log("Resolver conversa:",m.conversation.id)};return(b,i)=>(n(),r("div",{draggable:"true",class:"bg-white dark:bg-n-solid-3 p-4 rounded-lg border border-n-weak cursor-move hover:shadow-lg transition-all duration-200 hover:scale-[1.02]",onDragstart:i[0]||(i[0]=g=>b.$emit("dragstart",g))},[e("div",xe,[e("div",be,[e("span",fe," #"+l(s.conversation.id),1),s.conversation.priority?(n(),r("span",{key:0,class:Z(["w-2 h-2 rounded-full",{"bg-red-500":s.conversation.priority==="urgent","bg-yellow-500":s.conversation.priority==="high","bg-blue-500":s.conversation.priority==="medium"}])},null,2)):E("",!0)]),e("div",he,[e("button",{onClick:j(D,["stop"]),class:"text-n-slate-10 hover:text-n-slate-12 transition-colors p-1 hover:bg-n-solid-4 rounded"},i[1]||(i[1]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})],-1)])),f.value?ne((n(),r("div",pe,[e("div",{class:"py-1"},[e("button",{onClick:o,class:"w-full px-4 py-2 text-left text-sm text-n-slate-12 hover:bg-n-solid-3 transition-colors flex items-center gap-2"},i[2]||(i[2]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),V(" Ver Detalhes ")])),e("button",{onClick:$,class:"w-full px-4 py-2 text-left text-sm text-n-slate-12 hover:bg-n-solid-3 transition-colors flex items-center gap-2"},i[3]||(i[3]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),V(" Abrir Conversa ")])),i[5]||(i[5]=e("hr",{class:"my-1 border-n-weak"},null,-1)),e("button",{onClick:M,class:"w-full px-4 py-2 text-left text-sm text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors flex items-center gap-2"},i[4]||(i[4]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),V(" Resolver ")]))])])),[[ae(ge),v]]):E("",!0)])]),e("h3",ke,l(s.conversation.meta.sender.name),1),e("p",we,l(a.value),1),s.conversation.labels&&s.conversation.labels.length>0?(n(),r("div",ye,[(n(!0),r(T,null,B(s.conversation.labels.slice(0,3),g=>(n(),r("span",{key:g,class:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded"},l(g),1))),128))])):E("",!0),e("div",Ce,[e("div",_e,[s.conversation.meta.sender.thumbnail?(n(),r("img",{key:0,src:s.conversation.meta.sender.thumbnail,alt:s.conversation.meta.sender.name,class:"w-6 h-6 rounded-full object-cover"},null,8,$e)):(n(),r("div",Me,l(p(s.conversation.meta.sender.name)),1)),e("span",Ee,l(s.conversation.meta.sender.phone_number||"Sem telefone"),1)]),e("div",De,[s.conversation.unread_count>0?(n(),r("div",je,[i[6]||(i[6]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})],-1)),e("span",Ae,l(s.conversation.unread_count),1)])):E("",!0),e("span",ze,l(_(s.conversation.last_activity_at)),1)])])],32))}},Se={class:"bg-white dark:bg-n-solid-3 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden"},Te={class:"flex items-center justify-between p-6 border-b border-n-weak"},Be={class:"flex items-center gap-3"},Ie=["src","alt"],qe={key:1,class:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-medium"},Ve={class:"text-xl font-semibold text-n-slate-12"},Le={class:"text-sm text-n-slate-11"},Ue={class:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]"},Re={class:"mb-6"},Ne={class:"p-4 bg-n-solid-2 rounded-lg space-y-2"},Oe={class:"flex items-center gap-2"},Qe={class:"text-n-slate-12"},Pe={key:0,class:"flex items-center gap-2"},Fe={class:"text-n-slate-12"},He={class:"grid grid-cols-2 gap-4 mb-6"},Ke={class:"text-2xl font-semibold text-n-slate-12"},Ge={key:0,class:"mb-6"},Ye={class:"flex flex-wrap gap-2"},Je={class:"mb-6"},We={class:"p-4 bg-n-solid-2 rounded-lg"},Xe={class:"text-n-slate-12"},Ze={class:"text-xs text-n-slate-11 mt-2"},et={class:"grid grid-cols-2 gap-4"},tt={class:"p-4 bg-n-solid-2 rounded-lg"},st={class:"text-sm font-medium text-n-slate-12"},ot={class:"p-4 bg-n-solid-2 rounded-lg"},nt={class:"text-sm font-medium text-n-slate-12"},at={__name:"ConversationDetailModal",props:{isOpen:{type:Boolean,default:!1},conversation:{type:Object,default:null}},emits:["close"],setup(s,{emit:A}){const m=s,y=A,C=se(),{accountScopedRoute:h}=oe(),f=()=>{y("close")},a=S(()=>{var v;return(v=m.conversation)!=null&&v.last_non_activity_message&&m.conversation.last_non_activity_message.content||"Sem mensagens"}),p=v=>{if(!v)return"?";const o=v.split(" ");return o.length>=2?(o[0][0]+o[1][0]).toUpperCase():v.substring(0,2).toUpperCase()},_=v=>v?new Date(v*1e3).toLocaleString("pt-BR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"NÃ£o disponÃ­vel",D=()=>{f(),C.push(h("inbox_view_conversation",{conversation_id:m.conversation.id}))};return(v,o)=>(n(),L(ie,{to:"body"},[te(re,{name:"modal"},{default:le(()=>{var $,M,b,i,g,I,d,t,u,x,c,k,w,q,U,R,N,O,Q,P,F,H,K,G,Y;return[s.isOpen?(n(),r("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:j(f,["self"])},[e("div",Se,[e("div",Te,[e("div",Be,[(b=(M=($=s.conversation)==null?void 0:$.meta)==null?void 0:M.sender)!=null&&b.thumbnail?(n(),r("img",{key:0,src:s.conversation.meta.sender.thumbnail,alt:s.conversation.meta.sender.name,class:"w-10 h-10 rounded-full object-cover"},null,8,Ie)):(n(),r("div",qe,l(p((I=(g=(i=s.conversation)==null?void 0:i.meta)==null?void 0:g.sender)==null?void 0:I.name)),1)),e("div",null,[e("h2",Ve,l((u=(t=(d=s.conversation)==null?void 0:d.meta)==null?void 0:t.sender)==null?void 0:u.name),1),e("p",Le,"#"+l((x=s.conversation)==null?void 0:x.id),1)])]),e("button",{onClick:f,class:"text-n-slate-10 hover:text-n-slate-12 transition-colors p-2 hover:bg-n-solid-4 rounded-lg"},o[0]||(o[0]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Ue,[e("div",Re,[o[3]||(o[3]=e("label",{class:"block text-sm font-medium text-n-slate-11 mb-2"},"InformaÃ§Ãµes de Contato",-1)),e("div",Ne,[e("div",Oe,[o[1]||(o[1]=e("svg",{class:"w-4 h-4 text-n-slate-11",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),e("span",Qe,l(((w=(k=(c=s.conversation)==null?void 0:c.meta)==null?void 0:k.sender)==null?void 0:w.phone_number)||"NÃ£o informado"),1)]),(R=(U=(q=s.conversation)==null?void 0:q.meta)==null?void 0:U.sender)!=null&&R.email?(n(),r("div",Pe,[o[2]||(o[2]=e("svg",{class:"w-4 h-4 text-n-slate-11",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),e("span",Fe,l(s.conversation.meta.sender.email),1)])):E("",!0)])]),e("div",He,[e("div",null,[o[4]||(o[4]=e("label",{class:"block text-sm font-medium text-n-slate-11 mb-2"},"Status",-1)),e("span",{class:Z(["inline-flex px-3 py-1 rounded-full text-xs font-medium",{"bg-green-100 text-green-700 dark:bg-green-900/30":((N=s.conversation)==null?void 0:N.status)==="open","bg-gray-100 text-gray-700 dark:bg-gray-900/30":((O=s.conversation)==null?void 0:O.status)==="resolved"}])},l(((Q=s.conversation)==null?void 0:Q.status)==="open"?"Aberta":"Resolvida"),3)]),e("div",null,[o[5]||(o[5]=e("label",{class:"block text-sm font-medium text-n-slate-11 mb-2"},"NÃ£o lidas",-1)),e("span",Ke,l(((P=s.conversation)==null?void 0:P.unread_count)||0),1)])]),(F=s.conversation)!=null&&F.labels&&s.conversation.labels.length>0?(n(),r("div",Ge,[o[6]||(o[6]=e("label",{class:"block text-sm font-medium text-n-slate-11 mb-2"},"Etiquetas",-1)),e("div",Ye,[(n(!0),r(T,null,B(s.conversation.labels,J=>(n(),r("span",{key:J,class:"px-3 py-1 text-sm bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-full"},l(J),1))),128))])])):E("",!0),e("div",Je,[o[7]||(o[7]=e("label",{class:"block text-sm font-medium text-n-slate-11 mb-2"},"Ãšltima Mensagem",-1)),e("div",We,[e("p",Xe,l(a.value),1),e("p",Ze,l(_((H=s.conversation)==null?void 0:H.last_activity_at)),1)])]),e("div",et,[e("div",tt,[o[8]||(o[8]=e("div",{class:"flex items-center gap-2 text-n-slate-11 mb-1"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"text-sm"},"Criada em")],-1)),e("p",st,l(_((K=s.conversation)==null?void 0:K.created_at)),1)]),e("div",ot,[o[9]||(o[9]=e("div",{class:"flex items-center gap-2 text-n-slate-11 mb-1"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})]),e("span",{class:"text-sm"},"Canal")],-1)),e("p",nt,l(((Y=(G=s.conversation)==null?void 0:G.meta)==null?void 0:Y.channel)||"API"),1)])])]),e("div",{class:"flex items-center justify-end gap-3 p-6 border-t border-n-weak bg-n-solid-2"},[e("button",{onClick:f,class:"px-4 py-2 text-sm font-medium text-n-slate-11 hover:text-n-slate-12 transition-colors"}," Fechar "),e("button",{onClick:D,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors"}," Abrir Conversa ")])])])):E("",!0)]}),_:1})]))}},lt=ee(at,[["__scopeId","data-v-736cfd40"]]),rt={class:"flex flex-col h-full bg-n-solid-1"},it={class:"p-4 border-b border-n-weak bg-n-solid-2"},dt={class:"flex items-center justify-between"},ct=["disabled"],ut={key:0},vt={key:1},mt={class:"p-2 text-xs text-n-slate-11 border-b border-n-weak"},gt={key:0,class:"flex items-center justify-center flex-1"},xt={key:1,class:"flex items-center justify-center flex-1"},bt={key:2,class:"flex-1 overflow-x-auto p-4"},ft={class:"flex gap-4 h-full min-w-max"},ht={class:"flex flex-col w-80 bg-n-solid-2 rounded-lg"},pt={class:"p-4 border-b border-n-weak"},kt={class:"flex items-center justify-between"},wt={class:"px-2 py-1 text-xs font-medium text-n-slate-11 bg-n-solid-3 rounded"},yt={class:"p-4 border-b border-n-weak"},Ct={class:"flex items-center justify-between"},_t={class:"flex items-center gap-2"},$t={class:"font-semibold text-n-slate-12"},Mt={class:"px-2 py-1 text-xs font-medium text-n-slate-11 bg-n-solid-3 rounded"},Et=["onDrop"],Dt={__name:"Index",setup(s){const A=ve(),m=z(null),y=z(!1),C=z(null),h=z(!1),f=me("labels/getLabels"),a=de({semEtiqueta:[]}),p=S(()=>f.value||[]),_=S(()=>{var t;let d=((t=a.semEtiqueta)==null?void 0:t.length)||0;return p.value.forEach(u=>{var x;d+=((x=a[u.title])==null?void 0:x.length)||0}),d}),D=S(()=>_.value>0),v=async()=>{h.value=!0;try{console.log("ðŸ” Buscando conversas...");const d=await W.get({status:"open",assigneeType:"all",page:1,sortBy:"last_activity_at"});console.log("ðŸ“¦ Resposta da API:",d),d.data&&d.data.payload?(console.log("âœ… Total de conversas:",d.data.payload.length),o(d.data.payload)):console.warn("âš ï¸ Nenhuma conversa encontrada na resposta")}catch(d){console.error("âŒ Erro ao buscar conversas:",d)}finally{h.value=!1}},o=d=>{console.log("ðŸ“Š Distribuindo conversas..."),console.log("Labels disponÃ­veis:",p.value.map(t=>t.title)),a.semEtiqueta=[],p.value.forEach(t=>{a[t.title]?a[t.title]=[]:a[t.title]=[],console.log(`ðŸ“ Coluna criada: ${t.title}`)}),d.forEach(t=>{var u,x;if(console.log(`
ðŸ”„ Processando conversa #${t.id}`),console.log("   Labels:",t.labels),console.log("   Sender:",(x=(u=t.meta)==null?void 0:u.sender)==null?void 0:x.name),!t.labels||t.labels.length===0)a.semEtiqueta.push(t),console.log("   âœ… Adicionado em SEM ETIQUETA");else{const c=t.labels[0];console.log(`   ðŸ·ï¸ Primeira label: "${c}"`),a[c]!==void 0?(a[c].push(t),console.log(`   âœ… Adicionado na coluna "${c}"`)):(a.semEtiqueta.push(t),console.log(`   âš ï¸ Coluna "${c}" nÃ£o encontrada, adicionado em SEM ETIQUETA`))}}),console.log(`
ðŸ“Š Resumo da distribuiÃ§Ã£o:`),console.log(`   SEM ETIQUETA: ${a.semEtiqueta.length} conversas`),p.value.forEach(t=>{var u;console.log(`   ${t.title}: ${((u=a[t.title])==null?void 0:u.length)||0} conversas`)})},$=(d,t)=>{m.value=t,d.dataTransfer.effectAllowed="move"},M=async(d,t)=>{if(d.preventDefault(),!m.value)return;const u=m.value.id;console.log(`ðŸŽ¯ Movendo conversa #${u} para:`,t||"SEM ETIQUETA");for(const x in a){const c=a[x].findIndex(k=>k.id===u);if(c!==-1){a[x].splice(c,1),console.log(`   âœ‚ï¸ Removido da coluna: ${x}`);break}}t===null?(m.value.labels=[],a.semEtiqueta.push(m.value),console.log("   âœ… Adicionado em SEM ETIQUETA")):(m.value.labels=[t],a[t]||(a[t]=[]),a[t].push(m.value),console.log(`   âœ… Adicionado na coluna: ${t}`));try{await b(u,t)}catch(x){console.error("âŒ Erro ao atualizar labels:",x),v()}m.value=null},b=async(d,t)=>{try{const u=t===null?[]:[t];console.log(`ðŸ“¡ Atualizando labels na API para conversa #${d}:`,u),await W.updateLabels(d,u),console.log("âœ… Labels atualizadas com sucesso")}catch(u){throw console.error("âŒ Erro ao atualizar labels:",u),u}},i=()=>{v()},g=d=>{C.value=d,y.value=!0},I=()=>{y.value=!1,C.value=null};return ce(async()=>{console.log("ðŸš€ Iniciando Kanban..."),console.log("ðŸ“¥ Carregando labels..."),await A.dispatch("labels/get"),console.log("âœ… Labels carregadas:",f.value),await v()}),(d,t)=>{var u,x;return n(),r("div",rt,[e("div",it,[e("div",dt,[t[5]||(t[5]=e("h1",{class:"text-2xl font-semibold text-n-slate-12"},"Kanban de Conversas",-1)),e("button",{onClick:i,disabled:h.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"},[h.value?(n(),r("span",ut,"Carregando...")):(n(),r("span",vt,"ðŸ”„ Atualizar"))],8,ct)])]),e("div",mt," Labels carregadas: "+l(p.value.length)+" | Sem etiqueta: "+l(((u=a.semEtiqueta)==null?void 0:u.length)||0)+" | Total conversas: "+l(_.value),1),h.value&&!D.value?(n(),r("div",gt,t[6]||(t[6]=[e("div",{class:"text-center"},[e("div",{class:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e("p",{class:"text-n-slate-11"},"Carregando conversas...")],-1)]))):!h.value&&!D.value?(n(),r("div",xt,[e("div",{class:"text-center"},[t[7]||(t[7]=e("p",{class:"text-n-slate-11 mb-4"},"Nenhuma conversa encontrada",-1)),e("button",{onClick:i,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors"}," Atualizar ")])])):(n(),r("div",bt,[e("div",ft,[e("div",ht,[e("div",pt,[e("div",kt,[t[8]||(t[8]=e("div",{class:"flex items-center gap-2"},[e("span",{class:"w-3 h-3 rounded-full bg-gray-400"}),e("h2",{class:"font-semibold text-n-slate-12"},"SEM ETIQUETA")],-1)),e("span",wt,l(((x=a.semEtiqueta)==null?void 0:x.length)||0),1)])]),e("div",{class:"flex-1 p-3 overflow-y-auto space-y-3",onDrop:t[0]||(t[0]=c=>M(c,null)),onDragover:t[1]||(t[1]=j(()=>{},["prevent"])),onDragenter:t[2]||(t[2]=j(()=>{},["prevent"]))},[(n(!0),r(T,null,B(a.semEtiqueta,c=>(n(),L(X,{key:c.id,conversation:c,onDragstart:k=>$(k,c),onViewDetails:g},null,8,["conversation","onDragstart"]))),128))],32)]),(n(!0),r(T,null,B(p.value,c=>{var k;return n(),r("div",{key:c.id,class:"flex flex-col w-80 bg-n-solid-2 rounded-lg"},[e("div",yt,[e("div",Ct,[e("div",_t,[e("span",{class:"w-3 h-3 rounded-full ring-1 ring-black/10 dark:ring-white/20",style:ue({backgroundColor:c.color})},null,4),e("h2",$t,l(c.title.toUpperCase()),1)]),e("span",Mt,l(((k=a[c.title])==null?void 0:k.length)||0),1)])]),e("div",{class:"flex-1 p-3 overflow-y-auto space-y-3",onDrop:w=>M(w,c.title),onDragover:t[3]||(t[3]=j(()=>{},["prevent"])),onDragenter:t[4]||(t[4]=j(()=>{},["prevent"]))},[(n(!0),r(T,null,B(a[c.title],w=>(n(),L(X,{key:w.id,conversation:w,onDragstart:q=>$(q,w),onViewDetails:g},null,8,["conversation","onDragstart"]))),128))],40,Et)])}),128))])])),te(lt,{"is-open":y.value,conversation:C.value,onClose:I},null,8,["is-open","conversation"])])}}},Rt=ee(Dt,[["__scopeId","data-v-a15778b3"]]);export{Rt as default};
//# sourceMappingURL=Index-BlS8Jex0.js.map
