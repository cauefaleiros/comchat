import{r as B,c as S,n as c,o as d,p as e,g as w,t as v,q as Z,i as le,f as L,H as re,m as N,F as V,j as I,z as ee,_ as te,a as O,e as se,l as ie,T as de,a6 as ce,Y as ue,L as ve}from"./_plugin-vue_export-helper-DG4P_01H.js";import{c as oe,f as me}from"./useBranding-DmHLD-Fz.js";import{a as ne,u as ae}from"./Validators-BM89Tp7H.js";import{v as fe,aV as J}from"./DashboardIcon-B95NAghS.js";import"./utils.esm-D6ZuPXmT.js";import"./index-DN3rM4CW.js";import"./_commonjsHelpers-BosuxZz1.js";import"./js.cookie-Cz0CWeBA.js";import"./index-Cw6s38ZS.js";import"./index-DhewzwAi.js";import"./Icon-Br_HG2DA.js";const ge={class:"flex items-start justify-between mb-3"},be={class:"flex items-center gap-2"},xe={class:"px-2 py-0.5 text-xs font-medium text-green-700 bg-green-100 dark:bg-green-900/30 dark:text-green-400 rounded"},pe={class:"relative"},he={key:0,class:"absolute right-0 mt-1 w-48 bg-white dark:bg-n-solid-6 rounded-lg shadow-lg border border-n-weak z-50"},ke={class:"py-1"},we={class:"font-semibold text-n-slate-12 mb-2 line-clamp-2"},ye={class:"text-sm text-n-slate-11 mb-4 line-clamp-2"},Ce={key:0,class:"flex flex-wrap gap-1 mb-3"},_e={key:0,class:"px-2 py-0.5 text-xs font-medium text-n-slate-11 bg-n-solid-4 rounded"},$e={class:"flex items-center justify-between pt-3 border-t border-n-weak"},Me={class:"flex items-center gap-2"},De={class:"w-6 h-6 min-w-[24px] min-h-[24px] rounded-full flex-shrink-0 overflow-hidden"},je=["src","alt"],Ee={key:1,class:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-semibold"},ze={class:"text-xs text-n-slate-11 truncate max-w-[120px]"},Be={class:"flex items-center gap-2 text-n-slate-11"},Le={key:0,class:"flex items-center gap-1"},Se={class:"text-xs font-medium bg-red-500 text-white px-1.5 py-0.5 rounded-full"},qe={class:"text-xs"},X={__name:"KanbanCard",props:{conversation:{type:Object,required:!0}},emits:["dragstart","view-details"],setup(n,{emit:q}){const u=n,y=q,C=ne(),x=ae(),g=B(!1),m=B(!1),p=oe("labels/getLabels"),j=S(()=>u.conversation.last_non_activity_message&&u.conversation.last_non_activity_message.content||"Sem mensagens"),E=S(()=>{var o,l,b,A,P,T;return m.value?null:((l=(o=u.conversation.meta)==null?void 0:o.sender)==null?void 0:l.thumbnail)||((A=(b=u.conversation.meta)==null?void 0:b.sender)==null?void 0:A.avatar)||((T=(P=u.conversation.meta)==null?void 0:P.sender)==null?void 0:T.avatar_url)||null}),f=S(()=>!u.conversation.labels||u.conversation.labels.length===0?[]:!p.value||p.value.length===0?(console.warn("âš ï¸ Labels do store nÃ£o disponÃ­veis"),u.conversation.labels.map(t=>typeof t=="string"?{title:t,color:"#3b82f6"}:t)):u.conversation.labels.map(t=>{const o=typeof t=="string"?t:t.title,l=p.value.find(b=>b.title===o);return l?(console.log(`âœ… Label encontrada: ${o} -> ${l.color}`),{id:l.id,title:l.title,color:l.color,description:l.description}):(console.warn(`âš ï¸ Label nÃ£o encontrada no store: ${o}`),{title:o,color:"#3b82f6"})})),r=()=>{m.value=!0},h=t=>{if(!t||typeof t!="string"||t.trim()==="")return"?";const o=t.trim().split(/\s+/).filter(l=>l.length>0);return o.length>=2?(o[0][0]+o[1][0]).toUpperCase():o.length===1&&o[0].length>0?o[0][0].toUpperCase():"?"},_=t=>{const o=t.color||"#3b82f6";return{backgroundColor:`${o}20`,color:o,borderColor:o,borderWidth:"1px",borderStyle:"solid"}},$=t=>{if(!t)return"";const l=Math.floor(Date.now()/1e3)-t;return l<60?"agora":l<3600?`${Math.floor(l/60)}m`:l<86400?`${Math.floor(l/3600)}h`:`${Math.floor(l/86400)}d`},M=t=>{const o=x.path,b=`${o.replace(/\/kanban.*$/,"")}/conversations/${u.conversation.id}`;if(console.log("ðŸš€ Navegando de:",o),console.log("ðŸš€ Para:",b),t&&(t.metaKey||t.ctrlKey)){t.preventDefault(),window.open(`${window.location.origin}${b}`,"_blank","noopener,noreferrer");return}C.push(b)},z=t=>{t.target.closest("button")||g.value||M(t)},D=()=>{g.value=!g.value},k=()=>{g.value=!1},a=()=>{k(),y("view-details",u.conversation)},s=t=>{k(),M(t)},i=()=>{k(),console.log("Resolver conversa:",u.conversation.id)};return(t,o)=>(d(),c("div",{draggable:"true",class:"bg-white dark:bg-n-solid-3 p-4 rounded-lg border border-n-weak cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-[1.02]",onDragstart:o[1]||(o[1]=l=>t.$emit("dragstart",l)),onClick:z},[e("div",ge,[e("div",be,[e("span",xe," #"+v(n.conversation.id),1),n.conversation.priority?(d(),c("span",{key:0,class:Z(["w-2 h-2 rounded-full",{"bg-red-500":n.conversation.priority==="urgent","bg-yellow-500":n.conversation.priority==="high","bg-blue-500":n.conversation.priority==="medium"}])},null,2)):w("",!0)]),e("div",pe,[e("button",{onClick:L(D,["stop"]),class:"text-n-slate-10 hover:text-n-slate-12 transition-colors p-1 hover:bg-n-solid-4 rounded"},o[2]||(o[2]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})],-1)])),g.value?le((d(),c("div",he,[e("div",ke,[e("button",{onClick:a,class:"w-full px-4 py-2 text-left text-sm text-n-slate-12 dark:text-n-slate-11 hover:bg-gray-50 dark:hover:bg-n-solid-5 transition-colors flex items-center gap-2"},o[3]||(o[3]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),N(" Ver Detalhes ")])),e("button",{onClick:o[0]||(o[0]=l=>s(l)),class:"w-full px-4 py-2 text-left text-sm text-n-slate-12 dark:text-n-slate-11 hover:bg-gray-50 dark:hover:bg-n-solid-5 transition-colors flex items-center gap-2"},o[4]||(o[4]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),N(" Abrir Conversa ")])),o[6]||(o[6]=e("hr",{class:"my-1 border-n-weak"},null,-1)),e("button",{onClick:i,class:"w-full px-4 py-2 text-left text-sm text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors flex items-center gap-2"},o[5]||(o[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),N(" Resolver ")]))])])),[[re(fe),()=>k()]]):w("",!0)])]),e("h3",we,v(n.conversation.meta.sender.name),1),e("p",ye,v(j.value),1),f.value.length>0?(d(),c("div",Ce,[(d(!0),c(V,null,I(f.value.slice(0,3),l=>(d(),c("span",{key:l.id||l.title,class:"px-2 py-0.5 text-xs font-medium rounded",style:ee(_(l))},v(l.title),5))),128)),f.value.length>3?(d(),c("span",_e," +"+v(f.value.length-3),1)):w("",!0)])):w("",!0),e("div",$e,[e("div",Me,[e("div",De,[E.value?(d(),c("img",{key:0,src:E.value,alt:n.conversation.meta.sender.name,class:"w-full h-full object-cover",onError:r},null,40,je)):(d(),c("div",Ee,v(h(n.conversation.meta.sender.name)),1))]),e("span",ze,v(n.conversation.meta.sender.phone_number||"Sem telefone"),1)]),e("div",Be,[n.conversation.unread_count>0?(d(),c("div",Le,[o[7]||(o[7]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})],-1)),e("span",Se,v(n.conversation.unread_count),1)])):w("",!0),e("span",qe,v($(n.conversation.last_activity_at)),1)])])],32))}},Ae={class:"bg-white dark:bg-n-solid-3 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden"},Pe={class:"flex items-center justify-between p-6 border-b border-n-weak"},Te={class:"flex items-center gap-3"},Ve=["src","alt"],Ie={key:1,class:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-medium"},Ne={class:"text-xl font-semibold text-n-slate-12"},Oe={class:"text-sm text-n-slate-11"},Re={class:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]"},Ue={class:"mb-6"},Ke={class:"p-4 bg-n-solid-2 rounded-lg space-y-2"},Fe={class:"flex items-center gap-2"},He={class:"text-n-slate-12"},Ge={key:0,class:"flex items-center gap-2"},Qe={class:"text-n-slate-12"},We={class:"grid grid-cols-2 gap-4 mb-6"},Ye={class:"text-2xl font-semibold text-n-slate-12"},Je={key:0,class:"mb-6"},Xe={class:"flex flex-wrap gap-2"},Ze={class:"mb-6"},et={class:"p-4 bg-n-solid-2 rounded-lg"},tt={class:"text-n-slate-12"},st={class:"text-xs text-n-slate-11 mt-2"},ot={class:"grid grid-cols-2 gap-4"},nt={class:"p-4 bg-n-solid-2 rounded-lg"},at={class:"text-sm font-medium text-n-slate-12"},lt={class:"p-4 bg-n-solid-2 rounded-lg"},rt={class:"text-sm font-medium text-n-slate-12"},it={__name:"ConversationDetailModal",props:{isOpen:{type:Boolean,default:!1},conversation:{type:Object,default:null}},emits:["close"],setup(n,{emit:q}){const u=n,y=q,C=ne(),x=ae(),g=()=>{y("close")},m=S(()=>{var f;return(f=u.conversation)!=null&&f.last_non_activity_message&&u.conversation.last_non_activity_message.content||"Sem mensagens"}),p=f=>{if(!f)return"?";const r=f.split(" ");return r.length>=2?(r[0][0]+r[1][0]).toUpperCase():f.substring(0,2).toUpperCase()},j=f=>f?new Date(f*1e3).toLocaleString("pt-BR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"NÃ£o disponÃ­vel",E=()=>{g();const f=x.path,h=`${f.replace(/\/kanban.*$/,"")}/conversations/${u.conversation.id}`;console.log("ðŸš€ Navegando de:",f),console.log("ðŸš€ Para:",h),C.push(h)};return(f,r)=>(d(),O(ce,{to:"body"},[se(de,{name:"modal"},{default:ie(()=>{var h,_,$,M,z,D,k,a,s,i,t,o,l,b,A,P,T,R,U,K,F,H,G,Q,W;return[n.isOpen?(d(),c("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:L(g,["self"])},[e("div",Ae,[e("div",Pe,[e("div",Te,[($=(_=(h=n.conversation)==null?void 0:h.meta)==null?void 0:_.sender)!=null&&$.thumbnail?(d(),c("img",{key:0,src:n.conversation.meta.sender.thumbnail,alt:n.conversation.meta.sender.name,class:"w-10 h-10 rounded-full object-cover"},null,8,Ve)):(d(),c("div",Ie,v(p((D=(z=(M=n.conversation)==null?void 0:M.meta)==null?void 0:z.sender)==null?void 0:D.name)),1)),e("div",null,[e("h2",Ne,v((s=(a=(k=n.conversation)==null?void 0:k.meta)==null?void 0:a.sender)==null?void 0:s.name),1),e("p",Oe,"#"+v((i=n.conversation)==null?void 0:i.id),1)])]),e("button",{onClick:g,class:"text-n-slate-10 hover:text-n-slate-12 transition-colors p-2 hover:bg-n-solid-4 rounded-lg"},r[0]||(r[0]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Re,[e("div",Ue,[r[3]||(r[3]=e("label",{class:"block text-sm font-medium text-n-slate-11 mb-2"},"InformaÃ§Ãµes de Contato",-1)),e("div",Ke,[e("div",Fe,[r[1]||(r[1]=e("svg",{class:"w-4 h-4 text-n-slate-11",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),e("span",He,v(((l=(o=(t=n.conversation)==null?void 0:t.meta)==null?void 0:o.sender)==null?void 0:l.phone_number)||"NÃ£o informado"),1)]),(P=(A=(b=n.conversation)==null?void 0:b.meta)==null?void 0:A.sender)!=null&&P.email?(d(),c("div",Ge,[r[2]||(r[2]=e("svg",{class:"w-4 h-4 text-n-slate-11",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),e("span",Qe,v(n.conversation.meta.sender.email),1)])):w("",!0)])]),e("div",We,[e("div",null,[r[4]||(r[4]=e("label",{class:"block text-sm font-medium text-n-slate-11 mb-2"},"Status",-1)),e("span",{class:Z(["inline-flex px-3 py-1 rounded-full text-xs font-medium",{"bg-green-100 text-green-700 dark:bg-green-900/30":((T=n.conversation)==null?void 0:T.status)==="open","bg-gray-100 text-gray-700 dark:bg-gray-900/30":((R=n.conversation)==null?void 0:R.status)==="resolved"}])},v(((U=n.conversation)==null?void 0:U.status)==="open"?"Aberta":"Resolvida"),3)]),e("div",null,[r[5]||(r[5]=e("label",{class:"block text-sm font-medium text-n-slate-11 mb-2"},"NÃ£o lidas",-1)),e("span",Ye,v(((K=n.conversation)==null?void 0:K.unread_count)||0),1)])]),(F=n.conversation)!=null&&F.labels&&n.conversation.labels.length>0?(d(),c("div",Je,[r[6]||(r[6]=e("label",{class:"block text-sm font-medium text-n-slate-11 mb-2"},"Etiquetas",-1)),e("div",Xe,[(d(!0),c(V,null,I(n.conversation.labels,Y=>(d(),c("span",{key:Y,class:"px-3 py-1 text-sm bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-full"},v(Y),1))),128))])])):w("",!0),e("div",Ze,[r[7]||(r[7]=e("label",{class:"block text-sm font-medium text-n-slate-11 mb-2"},"Ãšltima Mensagem",-1)),e("div",et,[e("p",tt,v(m.value),1),e("p",st,v(j((H=n.conversation)==null?void 0:H.last_activity_at)),1)])]),e("div",ot,[e("div",nt,[r[8]||(r[8]=e("div",{class:"flex items-center gap-2 text-n-slate-11 mb-1"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"text-sm"},"Criada em")],-1)),e("p",at,v(j((G=n.conversation)==null?void 0:G.created_at)),1)]),e("div",lt,[r[9]||(r[9]=e("div",{class:"flex items-center gap-2 text-n-slate-11 mb-1"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})]),e("span",{class:"text-sm"},"Canal")],-1)),e("p",rt,v(((W=(Q=n.conversation)==null?void 0:Q.meta)==null?void 0:W.channel)||"API"),1)])])]),e("div",{class:"flex items-center justify-end gap-3 p-6 border-t border-n-weak bg-n-solid-2"},[e("button",{onClick:g,class:"px-4 py-2 text-sm font-medium text-n-slate-11 hover:text-n-slate-12 transition-colors"}," Fechar "),e("button",{onClick:E,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors"}," Abrir Conversa ")])])])):w("",!0)]}),_:1})]))}},dt=te(it,[["__scopeId","data-v-f6b9cbbc"]]),ct={class:"flex flex-col h-full bg-n-solid-1 min-w-full"},ut={class:"p-4 border-b border-n-weak bg-n-solid-2"},vt={class:"flex items-center justify-between"},mt=["disabled"],ft={key:0},gt={key:1},bt={key:0,class:"flex items-center justify-center flex-1"},xt={key:1,class:"flex-1 overflow-x-auto p-4"},pt={class:"flex gap-4 h-full min-w-max"},ht={class:"flex flex-col w-80 bg-n-solid-2 rounded-lg"},kt={class:"p-4 border-b border-n-weak"},wt={class:"flex items-center justify-between"},yt={class:"px-2 py-1 text-xs font-medium text-n-slate-11 bg-n-solid-3 rounded"},Ct={class:"p-4 border-b border-n-weak"},_t={class:"flex items-center justify-between"},$t={class:"flex items-center gap-2"},Mt={class:"font-semibold text-n-slate-12"},Dt={class:"px-2 py-1 text-xs font-medium text-n-slate-11 bg-n-solid-3 rounded"},jt=["onDrop"],Et={__name:"Index",setup(n){const q=me(),u=B(null),y=B(!1),C=B(null),x=B(!1),g=oe("labels/getLabels"),m=ue({semEtiqueta:[]}),p=S(()=>g.value||[]),j=S(()=>{const a=m.semEtiqueta.length,s=p.value.reduce((i,t)=>i+f(t.title),0);return a+s>0}),E=a=>m[a]||[],f=a=>{var s;return((s=m[a])==null?void 0:s.length)||0},r=async()=>{x.value=!0;try{console.log("ðŸ” Buscando conversas...");const a=await J.get({status:"open",assigneeType:"all",page:1,sortBy:"last_activity_at"});console.log("ðŸ“¦ Resposta da API:",a),console.log("ðŸ“¦ response.data:",a.data),console.log("ðŸ“¦ response.data.data:",a.data.data),a.data&&a.data.data&&a.data.data.payload?(console.log("âœ… Total de conversas:",a.data.data.payload.length),h(a.data.data.payload)):(console.warn("âš ï¸ Nenhuma conversa encontrada na resposta"),console.log("Estrutura recebida:",a.data))}catch(a){console.error("âŒ Erro ao buscar conversas:",a)}finally{x.value=!1}},h=a=>{m.semEtiqueta=[],p.value.forEach(s=>{m[s.title]=[]}),a.forEach(s=>{if(!s.labels||s.labels.length===0)m.semEtiqueta.push(s);else{const i=s.labels[0];m[i]!==void 0?m[i].push(s):m.semEtiqueta.push(s)}})},_=(a,s)=>{u.value=s,a.dataTransfer.effectAllowed="move"},$=async(a,s)=>{if(a.preventDefault(),!u.value)return;const i=u.value.id;for(const t in m){const o=m[t].findIndex(l=>l.id===i);if(o!==-1){m[t].splice(o,1);break}}s===null?(u.value.labels=[],m.semEtiqueta.push(u.value)):(u.value.labels=[s],m[s]||(m[s]=[]),m[s].push(u.value));try{await M(i,s)}catch(t){console.error("Erro ao atualizar labels:",t),r()}u.value=null},M=async(a,s)=>{try{const i=s===null?[]:[s];await J.updateLabels(a,i),console.log(`Labels da conversa ${a} atualizadas para:`,i)}catch(i){throw console.error("Erro ao atualizar labels:",i),i}},z=()=>{r()},D=a=>{C.value=a,y.value=!0},k=()=>{y.value=!1,C.value=null};return ve(async()=>{await q.dispatch("labels/get"),await r()}),(a,s)=>(d(),c("div",ct,[e("div",ut,[e("div",vt,[s[5]||(s[5]=e("h1",{class:"text-2xl font-semibold text-n-slate-12"},"Kanban de Conversas",-1)),e("button",{onClick:z,disabled:x.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"},[x.value?(d(),c("span",ft,"Carregando...")):(d(),c("span",gt,"ðŸ”„ Atualizar"))],8,mt)])]),x.value&&!j.value?(d(),c("div",bt,s[6]||(s[6]=[e("div",{class:"text-center"},[e("div",{class:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e("p",{class:"text-n-slate-11"},"Carregando conversas...")],-1)]))):(d(),c("div",xt,[e("div",pt,[e("div",ht,[e("div",kt,[e("div",wt,[s[7]||(s[7]=e("div",{class:"flex items-center gap-2"},[e("span",{class:"w-3 h-3 rounded-full bg-gray-400"}),e("h2",{class:"font-semibold text-n-slate-12"},"SEM ETIQUETA")],-1)),e("span",yt,v(m.semEtiqueta.length),1)])]),e("div",{class:"flex-1 p-3 overflow-y-auto space-y-3",onDrop:s[0]||(s[0]=i=>$(i,null)),onDragover:s[1]||(s[1]=L(()=>{},["prevent"])),onDragenter:s[2]||(s[2]=L(()=>{},["prevent"]))},[(d(!0),c(V,null,I(m.semEtiqueta,i=>(d(),O(X,{key:i.id,conversation:i,onDragstart:t=>_(t,i),onViewDetails:D},null,8,["conversation","onDragstart"]))),128))],32)]),(d(!0),c(V,null,I(p.value,i=>(d(),c("div",{key:i.title,class:"flex flex-col w-80 bg-n-solid-2 rounded-lg"},[e("div",Ct,[e("div",_t,[e("div",$t,[e("span",{class:"w-3 h-3 rounded-full ring-1 ring-black/10 dark:ring-white/20",style:ee({backgroundColor:i.color})},null,4),e("h2",Mt,v(i.title.toUpperCase()),1)]),e("span",Dt,v(f(i.title)),1)])]),e("div",{class:"flex-1 p-3 overflow-y-auto space-y-3",onDrop:t=>$(t,i.title),onDragover:s[3]||(s[3]=L(()=>{},["prevent"])),onDragenter:s[4]||(s[4]=L(()=>{},["prevent"]))},[(d(!0),c(V,null,I(E(i.title),t=>(d(),O(X,{key:t.id,conversation:t,onDragstart:o=>_(o,t),onViewDetails:D},null,8,["conversation","onDragstart"]))),128))],40,jt)]))),128))])])),se(dt,{"is-open":y.value,conversation:C.value,onClose:k},null,8,["is-open","conversation"])]))}},Ot=te(Et,[["__scopeId","data-v-bd950ae3"]]);export{Ot as default};
//# sourceMappingURL=Index-B3TTbqow.js.map
